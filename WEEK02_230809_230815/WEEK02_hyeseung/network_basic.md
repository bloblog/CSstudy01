# 2. 네트워크

### 네트워크란?

- 장치들이 통신 기술을 이용하여 구축하는 연결망
- 노드와 링크가 서로 연결되어 있으며 리소스를 공유하는 집합
    - 노드 : 네트워크 장치
    - 링크 : 유선 또는 무선

## 처리량과 지연 시간

### 좋은 네트워크란?

많은 처리량 처리 가능 + 지연시간이 짧고 + 장애 빈도가 적으며 + 좋은 보안을 갖춘 네트워크

### 처리량

- 링크를 통해 전달되는 단위 시간당 데이터 양

![image](<image/Untitled 1.jpeg>)

- 단위 : bps(bits per second)
- 트래픽 (사용자 접속량), 네트워크 장치간 대역폭, 네트워크 에러, 장치의 하드웨어 스펙에 영향을 받는다.
    - 대역폭 : 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 **최대** 비트수

### 지연 시간

- 요청이 처리되는 시간
- 어떤 메시지가 두 장치 사이를 왕복하는 데 걸린 시간
- 매체 타입 (유선 or 무선), 패킷 크기, 라우터의 패킷 처리 시간에 영향을 받는다.

<aside>

    💡 패킷
    패킷 방식의 컴퓨터 네트워크가 전달하는 데이터의 형식화된 블록. 즉 데이터를 주고받을 때 정해 놓은 규칙 (wiki)

    정보를 보낼 때 특정 형태를 맞추어 보낸다. 네트워크를 통해 전송되는 데이터 조각이라고 생각해라!

</aside>

## 네트워크 토폴로지와 병목 현상



### 네트워크 토폴로지

네트워크 설계 시 고려

- 노드와 링크가 어떻게 배치되어 있는지에 대한 방식이자 연결 형태

**네트워크 토폴로지의 종류**

- 트리 토폴로지(계층형 토폴로지)
    - 노드의 추가 삭제 용이
    - 특정 노트에 트래픽 집중 시 하위 노드에 영향

- 버스 토폴로지
    - 중앙 통신 회선 하나에 여러 개 노드 연결
    - 근거리 통신망 (LAN) 에서 사용
    - 설치 비용 적고 신뢰성 우수
    - 노드 추가 삭제 용이
    - **스푸핑**이 가능하다는 단점

<aside>

    💡 스푸핑
    패킷이 송신과 무관한 다른 호스트에 가지 않도록 하는 기능인 스위칭 기능을 마비시키거나 속여서 특정 노드에 해당 패킷이 오도록 처리하는 것. 악의적인 노드에 전달되게 되면 위험!

</aside>

- 스타 토폴로지
    - 중앙 노드에 모두 연결된 네트워크
    - 노드 추가 및 에러 탐지 용이
    - 패킷 충돌 가능성 적다
    - 중앙 노드가 아닌 노드에 장애 발생하면 다른 노드에 영향이 적다
        - 하지만 중앙 노드에 발생 시 전체 네트워크 사용 불가
    - 설치 비용 비쌈

- 링형 토폴로지
    - 양 옆의 두 노드와 연결 → 전체적으로 하나의 연속된 길을 통해 통신
    - 노드 수 증가해도 손실 거의 없다
    - 충돌 발생 적고 노드 고장 발견 용이
    - 네트워크 구성 변경이 어렵고 회선에 장애 발생시 전체 네트워크에 큰 영향이 간다는 단점

- 메시 토폴로지(망형 토폴로지)
    - 모두 연결되어있기 때문에, 단말장치 하나에 장애 발생 시에도 네트워크 사용 가능
    - 분산 처리 가능
    - 노드 추가가 어렵고 구축과 운용 비용이 비싸다

### 병목 현상

- 하나의 구성요소로 인해 전체 시스템의 성능이나 용량이 제한 받는 현상
- 토폴로지는 병목현상을 찾을 때 중요한 기준이 된다.
- 네트워크가 어떤 토폴로지를 갖고 어떤 경로로 이루어져 있는지 알아야 빠른 해결 가능

## 네트워크 분류



규모 기반으로 분류. **LAN < MAN < WAN**

### LAN

- 근거리 통신망
- 전송 속도 빠르고 혼잡하지 않다.

### MAN

- 대도시 지역 네트워크
- 전송 속도는 평균, LAN보다는 혼잡

### WAN

- 광역 네트워크 e.g. 국가 또는 대륙
- 전송 속도가 낮고 MAN보다 혼잡

<br>

## 네트워크 성능 분석 명령어



### 언제 사용하는가?

코드 상으로는 문제가 없는데, 사용자가 서비스로부터 데이터를 가져오지 못하기도 한다.

이러한 경우 병목 현상일 가능성이 있고, 병목 현상의 주된 원인에는 네트워크 대역폭, 네트워크 토폴로지, 서버 CPU 및 메모리 사용량, 비효율적인 네트워크 구성이 있다.

해당 병목 현상이 네트워크로부터 발생한 문제점인 것을 확인했다면, 네트워크 성능 분석을 해야 한다.

### ping

- “네트워크 상태를 확인하려는 대상 노드를 향해 일정 크기의 패킷을 전송해라”
- 이를 통해 해당 노드의 패킷 수신 상태와 도달하기까지의 시간 등을 알 수 있다. → 네트워크가 잘 연결되어 있나?
- ICMP 프로토콜 통해 동작하는 명령어기 때문에, 해당 프로토콜을 지원하지 않거나 차단하는 경우에는 사용 불가능
- 명령어 사용 : `ping [ip 주소 또는 도메인 주소] [옵션]`
    - 옵션 `-n [숫자]` → 지정한 숫자 번의 패킷을 보내고 받는다.

### netstat

- 접속되어 있는 서비스들의 네트워크 상태를 표시
- 네트워크 접속, 라우팅 테이블, 네트워크 프로토콜 등 리스트 보여줌
- 주로 서비스의 포트가 열려있는지 확인할 때 사용

### nslookup

- “DNS 관련 내용 확인해줘”
- 특정 도메인에 매핑된 IP를 확인하기 위해 사용

### tracert

- “목적지 노드까지 네트워크 경로 확인해줘”
- 어느 구간에서 응답 시간이 느려지는지 확인 가능
- 명령어(윈도우) : `tracert [목적지 url]` | (리눅스) `traceoute [목적지 url]`

## 네트워크 프로토콜 표준화



### 네트워크 프로토콜

- 서로 다른 장치들끼리 데이터를 주고받기 위해 설정된 공통된 인터페이스
- IEEE 또는 IETF 라는 표준화 단체가 정한다.
- e.g. IEEE802.3
    - 유선 LAN 프로토콜
    - 유선으로 LAN 구축시에 사용됨
    - HTTP도 이에 해당 → 이를 통해 노드들은 웹 서비스를 기반으로 데이터 주고 받을 수 있다.